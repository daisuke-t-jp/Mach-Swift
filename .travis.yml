branches:
  only: 
    - master

matrix:
  include:
    - os: osx
      language: swift
      osx_image: xcode10.2
      script:
        # macOS
        - xcodebuild clean -project "Mach-Swift.xcodeproj" 
        - xcodebuild test -project "Mach-Swift.xcodeproj" -scheme "Mach-Swift-macOS" -destination "platform=OS X" -configuration Debug

        # iOS
        - xcodebuild clean -project "Mach-Swift.xcodeproj" 
        - xcodebuild test -project "Mach-Swift.xcodeproj" -scheme "Mach-Swift-iOS" -sdk iphonesimulator -destination "platform=iOS Simulator,name=iPhone X" -configuration Debug
